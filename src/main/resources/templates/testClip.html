<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>移动端图片上传截取插件photoClip.js</title>
    <link rel="stylesheet" type="text/css" th:href="@{/asserts/css/tools/clip.css}" />
    <script th:src="@{/asserts/js/commom/jquery.js}"></script>
    <style type="text/css">
    #lei{
        width: 500px;
        height: 300px;
    "position": "absolute";
    "left": "50%";
    "top": "50%"
    }
</style>
</head>
<body>
<h5>点击头像</h5>
<section class="logo-license">
    <div class="half">
        <a class="logo" id="logox">
            <img id="bgl" src="">
        </a>
    </div>
    <div class="clear"></div>
</section>
<article class="jq22-container">
    <div id="clipArea">
        <div id="lei">
        </div>
    </div>
    <div class="foot-use">
        <div class="uploader1 blue">
            <input type="button" name="file" class="button" value="打开">
            <input id="file" type="file" accept="image/*" multiple />
        </div>
        <button id="clipBtn" onclick="">截取</button>
    </div>
    <div id="view"></div>
</article>
<script th:src="@{/asserts/js/tools/clip/zoom.js}"></script>
<script th:src="@{/asserts/js/tools/clip/photoClip.js}"></script>
<script th:src="@{/asserts/js/tools/clip/hammer.js}"></script>
<script>
    var obUrl = '';
    $("#clipArea").photoClip({
        width: 300,
        height: 300,
        file: "#file",
        view: "#view",
        ok: "#clipBtn",
        loadStart: function() {
            console.log("照片读取中");
        },
        loadComplete: function() {
            console.log("照片读取完成");
        },
        clipFinish: function(dataURL) {
            console.log(dataURL);//图片路径
        }
    });
</script>
<script>
    $(function(){
        $("#logox").click(function(){
            $(".jq22-container").show();
        });
        $("#clipBtn").click(function(){
            $("#logox").empty();
            $('#logox').append('<img src="' + imgsource + '" align="absmiddle" style=" width: 3rem;height: 3rem;">');
            $(".jq22-container").hide();
            //TODO 修正头像
        });
    });
</script>
</body>
</html>